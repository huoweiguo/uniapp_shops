{"version":3,"file":"jarvis-picker.js","sources":["uni_modules/jarvis-picker/components/jarvis-picker/jarvis-picker.vue","../../安装文件/HBuilderX.4.08.2024040127/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovd29yay91bmlhcHBfc2hvcC91bmlfbW9kdWxlcy9qYXJ2aXMtcGlja2VyL2NvbXBvbmVudHMvamFydmlzLXBpY2tlci9qYXJ2aXMtcGlja2VyLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<oz-popup :visible=\"visible\" @update:visible=\"$emit('update:visible', e)\" :type=\"type\" :safeArea=\"safeArea\"\r\n\t\t:backgroundColor=\"backgroundColor\" :maskBackgroundColor=\"maskBackgroundColor\" :isMaskClick=\"isMaskClick\"\r\n\t\t:animation=\"animation\" :borderRadius=\"borderRadius\">\r\n\t\t<view class=\"m-picker\">\r\n\t\t\t<slot v-if=\"type == 'bottom'\" name=\"handle\">\r\n\t\t\t\t<view class=\"handle\">\r\n\t\t\t\t\t<view class=\"button cancel\" :style=\"cancelStyle\" @click=\"cancel\">{{cancelText}}</view>\r\n\t\t\t\t\t<view class=\"handle-title\">{{ title }}</view>\r\n\t\t\t\t\t<view class=\"button confirm\" :style=\"confirmStyle\" @click=\"confirm\">\r\n\t\t\t\t\t\t{{confirmText}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</slot>\r\n\t\t\t<slot>\r\n\t\t\t\t<view class=\"content\" :style=\"{height: `${height}rpx`}\">\r\n\t\t\t\t\t<picker-view class=\"picker-view\" :indicator-class=\"indicatorClass\" :indicator-style=\"indicatorStyle\"\r\n\t\t\t\t\t\t:value=\"pickerValue\" @change=\"bindChange\" @pickstart=\"pickstart\" @pickend=\"pickend\">\r\n\t\t\t\t\t\t<picker-view-column v-for=\"(rangeItem, rangeIndex) in range\" :key=\"rangeIndex\">\r\n\t\t\t\t\t\t\t<view class=\"picker-view__item\" v-for=\"(item, index) in rangeItem\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t{{ item[rangeKey] }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker-view-column>\r\n\t\t\t\t\t</picker-view>\r\n\t\t\t\t</view>\r\n\t\t\t</slot>\r\n\t\t\t<slot v-if=\"type != 'bottom'\" name=\"handle\">\r\n\t\t\t\t<view class=\"handle\">\r\n\t\t\t\t\t<view class=\"button cancel\" :style=\"cancelStyle\" @click=\"cancel\">{{cancelText}}</view>\r\n\t\t\t\t\t<view class=\"handle-title\">{{ title }}</view>\r\n\t\t\t\t\t<view class=\"button confirm\" :style=\"confirmStyle\" @click=\"confirm\">\r\n\t\t\t\t\t\t{{confirmText}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</slot>\r\n\t\t</view>\r\n\t</oz-popup>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * PickerPopup 弹窗滚动选择器\r\n\t * @property {String} title 标题\r\n\t * @property {Boolean} visible = [true|false] 是否显示弹窗\r\n\t * @property {Boolean} btnClose = [true|false] 点击按钮是否关闭\r\n\t * @property {Array} range 数据\r\n\t * @property {String} rangeKey picker-item显示内容的key, 默认 label\r\n\t * @property {String} indicatorStyle 设置选择器中间选中框的样式\r\n\t * @property {String} indicatorClass 设置选择器中间选中框的类名，注意页面或组件的style中写了scoped时，需要在类名前写/deep/\r\n\t * @property {String} cancelText cancel文字\r\n\t * @property {String} confirmText confirm文字\r\n\t * @property {Object} cancelStyle cancel样式style\r\n\t * @property {Object} confirmStyle cancel样式style\r\n\t * @property {Number} height 内容高度 rpx\r\n\t * @property {Number} borderRadius 圆角 rpx\r\n\t * @property {String} bgColor 背景颜色\r\n\t * @property {String} markBgColor mark 背景颜色\r\n\t * @property {String} type 方向 top/bottom/center\r\n\t * \r\n\t * @event {Function} cancel 点击取消按钮\r\n\t * @event {Function} confirm 点击确认按钮\r\n\t */\r\n\texport default {\r\n\t\tname: \"JarvisPicker\",\r\n\t\tprops: {\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '请选择'\r\n\t\t\t},\r\n\t\t\t// 是否显示弹窗\r\n\t\t\tvisible: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t// 点击按钮是否关闭\r\n\t\t\tbtnClose: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 数据\r\n\t\t\trange: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => ([])\r\n\t\t\t},\r\n\t\t\t// picker-item显示内容的key\r\n\t\t\trangeKey: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'label'\r\n\t\t\t},\r\n\t\t\t// 设置选择器中间选中框的样式\r\n\t\t\tindicatorStyle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'height: 50px;'\r\n\t\t\t},\r\n\t\t\t// 设置选择器中间选中框的类名，注意页面或组件的style中写了scoped时，需要在类名前写/deep/\r\n\t\t\tindicatorClass: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// cancel文字\r\n\t\t\tcancelText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '取消'\r\n\t\t\t},\r\n\t\t\t// confirm文字\r\n\t\t\tconfirmText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '确定'\r\n\t\t\t},\r\n\t\t\t// cancel样式style\r\n\t\t\tcancelStyle: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t},\r\n\t\t\t// confirm样式style\r\n\t\t\tconfirmStyle: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t},\r\n\t\t\t// 内容高度 rpx\r\n\t\t\theight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 500\r\n\t\t\t},\r\n\t\t\t// 方向 top/bottom/center\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'bottom'\r\n\t\t\t},\r\n\t\t\tsafeArea: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#fff'\r\n\t\t\t},\r\n\t\t\tmaskBackgroundColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'rgba(0, 0, 0, 0.4)'\r\n\t\t\t},\r\n\t\t\tisMaskClick: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tanimation: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpickerValue: [], // 选中的索引\r\n\t\t\t\tisScoll: false, // 是否正在滚动\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\trange(val) {\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tlet arr = []\r\n\t\t\t\t\tfor (let index in this.range) {\r\n\t\t\t\t\t\tarr.push(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.pickerValue = arr;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif (this.range && this.range.length) {\r\n\t\t\t\tthis.pickerValue = [];\r\n\t\t\t\tfor (let index in this.range) {\r\n\t\t\t\t\tthis.pickerValue.push(0)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 关闭\r\n\t\t\t */\r\n\t\t\tclose() {\r\n\t\t\t\tif (!this.isScoll) this.$emit('update:visible', false);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 取消\r\n\t\t\t */\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.$emit('cancel')\r\n\t\t\t\tif (this.btnClose) this.close()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 确定\r\n\t\t\t */\r\n\t\t\tconfirm() {\r\n\t\t\t\t// 滚动结束后才能点击\r\n\t\t\t\tif (!this.isScoll) {\r\n\t\t\t\t\tthis.$emit('confirm', this.pickerValue);\r\n\t\t\t\t\tif (this.btnClose) this.close()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点击遮罩\r\n\t\t\t */\r\n\t\t\tclickMark() {\r\n\t\t\t\tif (this.markClose) this.close()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * picker-view 改变\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tbindChange(e) {\r\n\t\t\t\tconst val = e.detail.value;\r\n\t\t\t\tthis.pickerValue = val;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * picker-view开始滚动\r\n\t\t\t */\r\n\t\t\tpickstart() {\r\n\t\t\t\tthis.isScoll = true;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * picker-view 滚动结束\r\n\t\t\t */\r\n\t\t\tpickend() {\r\n\t\t\t\tthis.isScoll = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.m-picker {\r\n\t\tmax-width: 100vw;\r\n\t\tmin-width: 80vw;\r\n\t\tpadding: 30rpx;\r\n\r\n\t\t.handle {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.handle-title {\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\r\n\t\t\t.button {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #aaa;\r\n\r\n\t\t\t\t&.cancel {}\r\n\r\n\t\t\t\t&.confirm {\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 400rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.picker-view {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t\t&__item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t}\r\n\t}\r\n</style>","import Component from 'D:/work/uniapp_shop/uni_modules/jarvis-picker/components/jarvis-picker/jarvis-picker.vue'\nwx.createComponent(Component)"],"names":[],"mappings":"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"}